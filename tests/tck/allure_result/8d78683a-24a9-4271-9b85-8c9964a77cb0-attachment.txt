MATCH (n)
OPTIONAL MATCH (n)-[r]->(m)
RETURN size([x IN collect(r) WHERE x <> null]) AS cn
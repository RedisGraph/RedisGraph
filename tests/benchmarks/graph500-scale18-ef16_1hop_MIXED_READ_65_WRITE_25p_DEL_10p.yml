name: "GRAPH500-SCALE_18-EF_16-1_HOP_MIXED_READ_65perc_WRITE_25perc_DEL_10perc"
description: "Test: tests mixed read+write+delete queries within the same benchmark
              Dataset: Synthetic graph500 network of scale 18 (262144x262144, 4194304 edges)
                       - 262017 nodes with label 'Node'
                       - 4194304 relations of type 'IS_CONNECTED'
                       - Indexed properties: 
                          - exact-match: Node; [external_id]
             "
remote:
  - setup: redisgraph-r5
  - type: oss-standalone
dbconfig:
  - dataset: "https://s3.amazonaws.com/benchmarks.redislabs/redisgraph/datasets/graph500-scale18-ef16_v2.4.7_dump.rdb"
  - dataset_load_timeout_secs: 180
clientconfig:
  - tool: redisgraph-benchmark-go
  - parameters:
    - graph: "graph500-scale18-ef16"
    - rps: 0
    - clients: 32
    - threads: 4
    - connections: 32
    - requests: 10000
    - random-int-max: 262016
    - random-seed: 12345
    - queries:
      - { q: "CYPHER Id1=__rand_int__ MATCH (n)-[:IS_CONNECTED]->(z) WHERE ID(n) = $Id1 RETURN ID(n), count(z)", ratio: 0.65 }
      - { q: "CYPHER Id1=__rand_int__ Id2=__rand_int__ MATCH (n1:Node {external_id: $Id1}) MATCH (n2:Node {external_id: $Id2}) MERGE(n1)-[rel:IS_CONNECTED]->(n2)", ratio: 0.25 }
      - { q: "CYPHER Id1=__rand_int__ Id2=__rand_int__ MATCH (n1:Node {external_id: $Id1})-[rel:IS_CONNECTED]->(n2:Node {external_id: $Id2}) DELETE rel", ratio: 0.10 }
